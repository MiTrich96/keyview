!function(){"use strict";var e=function(e){const t=document.getElementsByClassName("keyboard_item");for(let s=0;s<t.length;s++)t[s].innerHTML==e&&(t[s].classList.add("active"),setTimeout((()=>{t[s].classList.remove("active")}),300))};var t=function(e){!function(e,t,s){let c,n,a=e.value,i=e.ownerDocument;"number"==typeof e.selectionStart&&"number"==typeof e.selectionEnd?(c=e.selectionEnd,e.value=a.slice(0,c)+t+a.slice(c),e.selectionStart=e.selectionEnd=c+t.length+(s||0)):"undefined"!=i.selection&&i.selection.createRange&&(e.focus(),n=i.selection.createRange(),n.collapse(!1),n.text=t,n.select())}(document.querySelector(".output_area"),e)};const s=["Backspace","CapsLock","Space","Enter","Shift"],c=document.querySelector(".output_area"),n={isUpper:!1,isRussian:!1};var a=function(a,i){let r;switch("click"===i?r=s.reduce(((e,t)=>(a.target.classList.contains(t)&&(e=t),e)),""):"press"===i&&(r=a.key),e(r),r){case"Backspace":if(c.textContent.length){let e=c.textContent.slice(0,c.textContent.length-1);c.textContent=e}break;case"Enter":t("\n");break;case"Space":e(" "),t(" ");break;case"CapsLock":if(n.isUpper=!n.isUpper,d(n),n.isUpper){document.querySelector(".CapsLock").classList.add("shift_clicked")}else{document.querySelector(".CapsLock").classList.remove("shift_clicked")}break;case"Shift":if(n.isRussian=!n.isRussian,d(n),n.isUpper){document.querySelector(".CapsLock").classList.add("shift_clicked")}else{document.querySelector(".CapsLock").classList.remove("shift_clicked")}}};var i=function(s){let c=s.target;c.classList.contains("keyboard_item")&&!c.classList.contains("special")?(e(c.innerText),t(s.target.innerText)):c.classList.contains("special")&&a(s,"click")};const r=["1","2","3","4","5","6","7","8","9","0","q","w","e","r","t","z","u","i","o","p","a","s","d","f","g","h","j","k","l","y","x","c","v","b","n","m","CapsLock","Enter"," ","Shift"],o=["1","2","3","4","5","6","7","8","9","0","й","ц","у","к","е","н","г","ш","щ","з","х","ъ","ф","ы","в","а","п","р","о","л","д","ж","э","я","ч","с","м","и","т","ь","б","ю","CapsLock","Enter"," ","Shift"];function l(e){const t=document.createElement("div");t.classList.add("keyboard_wrap");return function(e){let t;return t=e.isRussian?o:r,t.map((t=>e.isUpper&&1===t.length?t.toUpperCase():e.isUpper||1!==t.length?t:t.toLowerCase())).map((e=>{const t=document.createElement("div");return t.classList.add("keyboard_item"),t.innerText=e," "===e?(t.classList.add("special"),t.classList.add("Space"),t):(1===e.length||(t.classList.add("special"),t.classList.add(e)),t)}))}(e).map((e=>{t.appendChild(e)})),t}var d=function(e={isUpper:!1,isRussian:!1}){let t=document.querySelector(".keyboard_wrap");null!==t&&(t.parentNode.removeChild(t),t.removeEventListener("click",i)),document.querySelector(".app_bottom").appendChild(l(e)),t=document.querySelector(".keyboard_wrap"),t.addEventListener("click",i)};const p=["Backspace","CapsLock","Space","Enter","Shift"];var u=function(s){s.preventDefault(),-1===p.indexOf(s.key)?(t(s.key),e(s.key)):a(s,"press")};d();document.querySelector(".output_area").addEventListener("keydown",u)}();